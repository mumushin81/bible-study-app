#!/usr/bin/env tsx

/**
 * ì°½ì„¸ê¸° 1:1 í•µì‹¬ ë‹¨ì–´ ì´ë¯¸ì§€ ìƒì„±
 */

import 'dotenv/config'
import { generateWordImagesBatch } from './generateImage.js'
import type { WordInfo } from './generateImagePrompt.js'

// ì°½ì„¸ê¸° 1:1 íˆë¸Œë¦¬ì–´ ì›ë¬¸
// ×‘Ö°Ö¼×¨Öµ××©Ö´××™×ª ×‘Ö¸Ö¼×¨Ö¸× ×Ö±×œÖ¹×”Ö´×™× ×Öµ×ª ×”Ö·×©Ö¸Ö¼××Ö·×™Ö´× ×•Ö°×Öµ×ª ×”Ö¸×Ö¸×¨Ö¶×¥
// íƒœì´ˆì— í•˜ë‚˜ë‹˜ì´ ì²œì§€ë¥¼ ì°½ì¡°í•˜ì‹œë‹ˆë¼

const genesis1_1Words: WordInfo[] = [
  {
    hebrew: '×‘Ö°Ö¼×¨Öµ××©Ö´××™×ª',
    meaning: 'ì‹œì‘, íƒœì´ˆ, ì²˜ìŒ',
    korean: 'ë² ë ˆì‰¬íŠ¸',
    ipa: 'bereÊƒiËt',
    root: '×¨××© (ë¨¸ë¦¬, ì‹œì‘)',
    grammar: 'ëª…ì‚¬',
    context: 'ì°½ì„¸ê¸°ì˜ ì²« ë‹¨ì–´. ì‹œê°„ì˜ ì ˆëŒ€ì ì¸ ì‹œì‘ì ì„ ì˜ë¯¸í•˜ë©°, ìš°ì£¼ì™€ ëª¨ë“  ì°½ì¡°ì˜ ê¸°ì›ì„ ë‚˜íƒ€ëƒ„'
  },
  {
    hebrew: '×‘Ö¸Ö¼×¨Ö¸×',
    meaning: 'ì°½ì¡°í•˜ë‹¤ (ë¬´ì—ì„œ ìœ ë¥¼ ì°½ì¡°)',
    korean: 'ë°”ë¼',
    ipa: 'baËraË',
    root: '×‘×¨×',
    grammar: 'ë™ì‚¬ (ì¹¼ ì™„ë£Œí˜• 3ì¸ì¹­ ë‚¨ì„± ë‹¨ìˆ˜)',
    context: 'ì˜¤ì§ í•˜ë‚˜ë‹˜ë§Œì´ í•˜ì‹¤ ìˆ˜ ìˆëŠ” ì°½ì¡°. ë¬´(nothing)ì—ì„œ ìœ (something)ë¥¼ ë§Œë“œëŠ” ìœ ì¼í•œ ì°½ì¡° í–‰ìœ„'
  },
  {
    hebrew: '×Ö±×œÖ¹×”Ö´×™×',
    meaning: 'í•˜ë‚˜ë‹˜ (ì „ëŠ¥í•˜ì‹  ì°½ì¡°ì£¼)',
    korean: 'ì—˜ë¡œí˜',
    ipa: 'eloËhiËm',
    root: '××œ (ì‹ )',
    grammar: 'ëª…ì‚¬ (ë³µìˆ˜í˜•, ë‹¨ìˆ˜ ì·¨ê¸‰)',
    context: 'ë³µìˆ˜ í˜•íƒœì´ì§€ë§Œ ë‹¨ìˆ˜ë¡œ ì‚¬ìš©ë˜ì–´ í•˜ë‚˜ë‹˜ì˜ ì¥ì—„í•¨ê³¼ ì‚¼ìœ„ì¼ì²´ë¥¼ ì•”ì‹œ. ì°½ì¡°ì£¼ì´ì ì „ëŠ¥ì'
  },
  {
    hebrew: '×”Ö·×©Ö¸Ö¼××Ö·×™Ö´×',
    meaning: 'í•˜ëŠ˜, ì²œêµ­ (ë³µìˆ˜: í•˜ëŠ˜ë“¤)',
    korean: 'í•˜ìƒ¤ë§ˆì„',
    ipa: 'haÊƒaËmajim',
    root: '×©××” (ë†’ì´ ìˆë‹¤)',
    grammar: 'ëª…ì‚¬ (ë³µìˆ˜í˜• + ì •ê´€ì‚¬)',
    context: 'ë¬¼ë¦¬ì  í•˜ëŠ˜ê³¼ ì˜ì  í•˜ëŠ˜ì„ í¬í•¨. í•˜ëŠ˜ì˜ ê´‘ëŒ€í•¨ê³¼ ë‹¤ì¸µì  êµ¬ì¡°ë¥¼ ë‚˜íƒ€ë‚´ëŠ” íˆë¸Œë¦¬ì–´ ë³µìˆ˜í˜•'
  },
  {
    hebrew: '×”Ö¸×Ö¸×¨Ö¶×¥',
    meaning: 'ë•…, ì§€êµ¬ (ë¬¼ë¦¬ì  ì„¸ê³„)',
    korean: 'í•˜ì•„ë ˆì¸ ',
    ipa: 'haËÊ”aËrets',
    root: '××¨×¥',
    grammar: 'ëª…ì‚¬ (ë‹¨ìˆ˜í˜• + ì •ê´€ì‚¬)',
    context: 'ë¬¼ë¦¬ì  ì§€êµ¬ì™€ ì¸ê°„ì´ ì‚´ì•„ê°€ëŠ” ë•…. í•˜ëŠ˜ê³¼ ëŒ€ì¡°ë˜ëŠ” ë¬¼ì§ˆì  ì˜ì—­ì´ì ì•½ì†ì˜ ë•…'
  },
  {
    hebrew: '×Öµ×ª',
    meaning: '~ì„/ë¥¼ (ëª©ì ê²© í‘œì§€)',
    korean: 'ì—íŠ¸',
    ipa: 'Ê”eËt',
    root: '××ª',
    grammar: 'ì¡°ì‚¬ (ëª©ì ê²© í‘œì§€)',
    context: 'íˆë¸Œë¦¬ì–´ì˜ ë…íŠ¹í•œ ë¬¸ë²• ìš”ì†Œë¡œ, ëª…í™•í•œ ëª©ì ì–´ ì•ì— ìœ„ì¹˜í•˜ì—¬ ë¬¸ì¥ êµ¬ì¡°ë¥¼ ëª…í™•íˆ í•¨'
  },
  {
    hebrew: '×•Ö°×Öµ×ª',
    meaning: 'ê·¸ë¦¬ê³  ~ì„/ë¥¼',
    korean: 'ë² ì—íŠ¸',
    ipa: 'veÊ”eËt',
    root: '×• + ××ª',
    grammar: 'ì ‘ì†ì‚¬ + ëª©ì ê²© í‘œì§€',
    context: 'ì ‘ì†ì‚¬ ×•(ê·¸ë¦¬ê³ )ì™€ ëª©ì ê²© í‘œì§€ ××ªì˜ ê²°í•©. ë‘ ë²ˆì§¸ ëª©ì ì–´ë¥¼ ì—°ê²°í•˜ë©° ì°½ì¡°ì˜ ì™„ì „ì„±ì„ ë‚˜íƒ€ëƒ„'
  },
]

console.log(`
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸŒŸ ì°½ì„¸ê¸° 1:1 í•µì‹¬ ë‹¨ì–´ ì´ë¯¸ì§€ ìƒì„±
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ì›ë¬¸: ×‘Ö°Ö¼×¨Öµ××©Ö´××™×ª ×‘Ö¸Ö¼×¨Ö¸× ×Ö±×œÖ¹×”Ö´×™× ×Öµ×ª ×”Ö·×©Ö¸Ö¼××Ö·×™Ö´× ×•Ö°×Öµ×ª ×”Ö¸×Ö¸×¨Ö¶×¥
ë²ˆì—­: íƒœì´ˆì— í•˜ë‚˜ë‹˜ì´ ì²œì§€ë¥¼ ì°½ì¡°í•˜ì‹œë‹ˆë¼

ìƒì„±í•  ë‹¨ì–´:
1. ×‘Ö°Ö¼×¨Öµ××©Ö´××™×ª (ë² ë ˆì‰¬íŠ¸) - ì‹œì‘, íƒœì´ˆ
2. ×‘Ö¸Ö¼×¨Ö¸× (ë°”ë¼) - ì°½ì¡°í•˜ë‹¤
3. ×Ö±×œÖ¹×”Ö´×™× (ì—˜ë¡œí˜) - í•˜ë‚˜ë‹˜
4. ×Öµ×ª (ì—íŠ¸) - ëª©ì ê²© ì¡°ì‚¬
5. ×”Ö·×©Ö¸Ö¼××Ö·×™Ö´× (í•˜ìƒ¤ë§ˆì„) - í•˜ëŠ˜
6. ×•Ö°×Öµ×ª (ë² ì—íŠ¸) - ì ‘ì†ì‚¬ + ëª©ì ê²© ì¡°ì‚¬
7. ×”Ö¸×Ö¸×¨Ö¶×¥ (í•˜ì•„ë ˆì¸ ) - ë•…

ì„¤ì •:
- ë¹„ìœ¨: 9:16 (í”Œë˜ì‹œì¹´ë“œ ëª¨ë°”ì¼)
- í˜•ì‹: JPG
- í’ˆì§ˆ: 90
- ì˜ˆìƒ ë¹„ìš©: $0.021 (ì•½ 28ì›)
- ì˜ˆìƒ ì‹œê°„: ì•½ 40ì´ˆ (ê° 5-7ì´ˆ)

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
`)

if (!process.env.REPLICATE_API_TOKEN) {
  console.error('âŒ REPLICATE_API_TOKEN í™˜ê²½ ë³€ìˆ˜ê°€ ì„¤ì •ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤')
  console.error('ğŸ“– .env.local íŒŒì¼ì— ë‹¤ìŒì„ ì¶”ê°€í•˜ì„¸ìš”:')
  console.error('   REPLICATE_API_TOKEN=your_token_here\n')
  process.exit(1)
}

// ì´ë¯¸ì§€ ìƒì„± ì‹œì‘
generateWordImagesBatch(genesis1_1Words, {
  aspectRatio: '9:16',
  outputFormat: 'jpg',
  outputQuality: 90,
})
  .then((results) => {
    console.log(`
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ‰ ì°½ì„¸ê¸° 1:1 ì´ë¯¸ì§€ ìƒì„± ì™„ë£Œ!
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ìƒì„±ëœ íŒŒì¼:
`)
    results.forEach((paths, index) => {
      if (paths.length > 0) {
        const word = genesis1_1Words[index]
        console.log(`${index + 1}. ${word.hebrew} (${word.korean})`)
        paths.forEach(path => console.log(`   ğŸ“„ ${path}`))
      }
    })

    console.log(`
ë‹¤ìŒ ë‹¨ê³„:
1. ìƒì„±ëœ ì´ë¯¸ì§€ í™•ì¸: open public/images/words/
2. í”Œë˜ì‹œì¹´ë“œì— ì ìš©í•˜ê¸°
3. Supabase Storageì— ì—…ë¡œë“œ (ì„ íƒ)

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
`)
  })
  .catch((error) => {
    console.error('\nâŒ ì˜¤ë¥˜ ë°œìƒ:', error)
    process.exit(1)
  })
