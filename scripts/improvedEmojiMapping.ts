/**
 * ê°œì„ ëœ ì°½ì„¸ê¸° 1ì¥ ì´ëª¨ì§€ ë§¤í•‘ - ì¤‘ë³µ ìµœì†Œí™” ë° ì˜ë¯¸ ì—°ê´€ì„± ê°•í™”
 */

import * as fs from 'fs';
import * as path from 'path';
import { fileURLToPath } from 'url';

const __filename = fileURLToPath(import.meta.url);
const __dirname = path.dirname(__filename);

// ê°œì„ ëœ ì´ëª¨ì§€ ë§¤í•‘ - ìš°ì„ ìˆœìœ„ ê¸°ë°˜
const improvedMapping: Record<string, string> = {
  // ========== í•µì‹¬ ì‹ í•™ ìš©ì–´ (ê³ ìœ  ì´ëª¨ì§€) ==========
  '×Ö±×œÖ¹×”Ö´×™×': 'ğŸ‘‘',  // í•˜ë‚˜ë‹˜ - ì™•ê´€
  '×‘Ö°Ö¼×¨Öµ××©Ö´××™×ª': 'ğŸŒ…',  // íƒœì´ˆ - ì¼ì¶œ
  '×‘Ö¸Ö¼×¨Ö¸×': 'âœ¨',  // ì°½ì¡°í•˜ë‹¤ - ë°˜ì§ì„
  '×•Ö·×™Ö´Ö¼×‘Ö°×¨Ö¸×': 'âœ¨',  // ê·¸ë¦¬ê³  ì°½ì¡°í–ˆë‹¤

  // ========== ë§ì”€ ê´€ë ¨ ==========
  '×Ö¸×Ö·×¨': 'ğŸ’¬',  // ë§ì”€í•˜ë‹¤
  '×•Ö·×™Ö¹Ö¼××Ö¶×¨': 'ğŸ’¬',  // ê·¸ë¦¬ê³  ë§ì”€í•˜ì…¨ë‹¤
  '×œÖµ××Ö¹×¨': 'ğŸ“£',  // ë§í•˜ê¸°ë¥¼

  // ========== ë³´ë‹¤/ì¸ì‹ ==========
  '×¨Ö¸×Ö¸×”': 'ğŸ‘€',  // ë³´ë‹¤
  '×•Ö·×™Ö·Ö¼×¨Ö°×': 'ğŸ‘ï¸',  // ê·¸ë¦¬ê³  ë³´ì…¨ë‹¤
  '×”Ö´× ÖµÖ¼×”': 'ğŸ‘€',  // ë³´ë¼
  '×•Ö°×”Ö´× ÖµÖ¼×”': 'ğŸ‘€',  // ê·¸ë¦¬ê³  ë³´ë¼

  // ========== ì¢‹ë‹¤/ì¶•ë³µ ==========
  '×˜×•Ö¹×‘': 'ğŸ’š',  // ì¢‹ì€
  '×‘Ö¸Ö¼×¨Ö·×šÖ°': 'ğŸ™',  // ì¶•ë³µí•˜ë‹¤
  '×›Ö´Ö¼×™': 'âœ…',  // ~ë¼ëŠ” ê²ƒ (í™•ì¸)
  '×Ö°×Ö¹×“': 'ğŸ’¯',  // ë§¤ìš°

  // ========== ìì—° - ì²œì²´/ë¹› ==========
  '××•Ö¹×¨': 'ğŸ’¡',  // ë¹›
  '×”Ö¸××•Ö¹×¨': 'â­',  // ê·¸ ë¹›
  '×—Ö¹×©Ö¶××šÖ°': 'ğŸŒ‘',  // ì–´ë‘ 
  '×”Ö·×—Ö¹×©Ö¶××šÖ°': 'ğŸŒš',  // ê·¸ ì–´ë‘ 

  // ì‹œê°„
  '×™×•Ö¹×': 'â˜€ï¸',  // ë‚®/ë‚ 
  '×”Ö·×™Ö¼×•Ö¹×': 'ğŸŒ',  // ê·¸ ë‚®
  '×‘Ö·Ö¼×™Ö¼×•Ö¹×': 'ğŸ“…',  // ë‚ ì—
  '×œÖ·×™Ö°×œÖ¸×”': 'ğŸŒ™',  // ë°¤
  '×”Ö·×œÖ¸Ö¼×™Ö°×œÖ¸×”': 'ğŸŒœ',  // ê·¸ ë°¤
  '×”Ö·×œÖ·Ö¼×™Ö°×œÖ¸×”': 'ğŸŒ›',  // ê·¸ ë°¤
  '×•Ö¼×‘Ö·×œÖ·Ö¼×™Ö°×œÖ¸×”': 'ğŸŒ™',  // ê·¸ë¦¬ê³  ë°¤ì—
  '×¢Ö¶×¨Ö¶×‘': 'ğŸŒ†',  // ì €ë…
  '×‘Ö¹×§Ö¶×¨': 'ğŸŒ„',  // ì•„ì¹¨
  '×•Ö°×©Ö¸×× Ö´×™×': 'ğŸ—“ï¸',  // ê·¸ë¦¬ê³  í•´ë“¤

  // ì²œì²´
  '×Ö¸××•Ö¹×¨': 'ğŸ’«',  // ê´‘ëª…ì²´
  '×Ö°×Ö¹×¨Ö¹×ª': 'ğŸŒŸ',  // ê´‘ëª…ì²´ë“¤
  '×œÖ´×Ö°××•Ö¹×¨Ö¹×ª': 'âœ¨',  // ê´‘ëª…ì²´ë“¤ë¡œ
  '×”Ö·×Ö°Ö¼×Ö¹×¨Ö¹×ª': 'ğŸŒ ',  // ê·¸ ê´‘ëª…ì²´ë“¤
  '×”Ö·×Ö¸Ö¼××•Ö¹×¨': 'â­',  // ê·¸ ê´‘ëª…ì²´
  '×©Ö¶××Ö¶×©×': 'â˜€ï¸',  // í•´
  '×™Ö¸×¨Öµ×—Ö·': 'ğŸŒ™',  // ë‹¬
  '×›Ö¼×•Ö¹×›Ö¸×‘': 'â­',  // ë³„
  '×›Ö¼×•Ö¹×›Ö¸×‘Ö´×™×': 'âœ¨',  // ë³„ë“¤

  // ========== ìì—° - í•˜ëŠ˜/ê¶ì°½ ==========
  '×©Ö¸××Ö·×™Ö´×': 'â˜ï¸',  // í•˜ëŠ˜
  '×”Ö·×©Ö¸Ö¼××Ö·×™Ö´×': 'ğŸŒ¥ï¸',  // ê·¸ í•˜ëŠ˜
  '×”Ö·×©Ö¸Ö¼××Ö¸×™Ö´×': 'ğŸŒ¤ï¸',  // í•˜ëŠ˜
  '×¨Ö¸×§Ö´×™×¢Ö·': 'ğŸŒˆ',  // ê¶ì°½
  '×”Ö¸×¨Ö¸×§Ö´×™×¢Ö·': 'ğŸŒ ',  // ê·¸ ê¶ì°½
  '×œÖ¸×¨Ö¸×§Ö´×™×¢Ö·': 'ğŸŒŒ',  // ê¶ì°½ì—
  '×‘Ö´Ö¼×¨Ö°×§Ö´×™×¢Ö·': 'ğŸŒƒ',  // ê¶ì°½ì—
  '×¨Ö°×§Ö´×™×¢Ö·': 'ğŸŒ…',  // ê¶ì°½

  // ========== ìì—° - ë•…/ìœ¡ì§€ ==========
  '×Ö¶×¨Ö¶×¥': 'ğŸŒ',  // ë•…
  '×”Ö¸×Ö¸×¨Ö¶×¥': 'ğŸŒ',  // ê·¸ ë•…
  '×”Ö·×™Ö·Ö¼×‘Ö¸Ö¼×©Ö¸××”': 'ğŸï¸',  // ê·¸ ë§ˆë¥¸ ë•…
  '×œÖ·×™Ö·Ö¼×‘Ö¸Ö¼×©Ö¸××”': 'ğŸœï¸',  // ë§ˆë¥¸ ë•…ì—ê²Œ

  // ========== ìì—° - ë¬¼ ==========
  '×Ö·×™Ö´×': 'ğŸ’§',  // ë¬¼
  '×”Ö·×Ö·Ö¼×™Ö´×': 'ğŸ’¦',  // ê·¸ ë¬¼ë“¤
  '×œÖ¸×Ö¸×™Ö´×': 'ğŸŒŠ',  // ë¬¼ë“¤ì—ê²Œ
  '×ªÖ°×”×•Ö¹×': 'ğŸŒŠ',  // ì‹¬ì—°
  '×™Ö·×Ö´Ö¼×™×': 'ğŸ–ï¸',  // ë°”ë‹¤ë“¤
  '×”Ö·×™Ö¸Ö¼×': 'ğŸŒŠ',  // ê·¸ ë°”ë‹¤
  '×Ö´×§Ö°×•Öµ×”': 'ğŸŠ',  // ëª¨ì„

  // ========== í˜¼ëˆê³¼ ì§ˆì„œ ==========
  '×ªÖ¹×”×•Ö¼': 'ğŸŒ€',  // í˜¼ëˆ
  '×‘Ö¹×”×•Ö¼': 'ã€°ï¸',  // ê³µí—ˆ
  '×ªÖ¹×”×•Ö¼ ×•Ö¸×‘Ö¹×”×•Ö¼': 'ğŸŒ€',  // í˜¼ëˆí•˜ê³  ê³µí—ˆí•¨
  '×¨×•Ö¼×—Ö·': 'ğŸ’¨',  // ì˜/ë°”ëŒ
  '×Ö°×¨Ö·×—Ö¶×¤Ö¶×ª': 'ğŸ•Šï¸',  // ìš´í–‰í•˜ë‹¤
  '×‘Ö¸Ö¼×“Ö·×œ': 'âœ‚ï¸',  // ë‚˜ëˆ„ë‹¤
  '×§Ö¸×‘Ö·×¥': 'ğŸ”„',  // ëª¨ìœ¼ë‹¤
  '×™Ö´×§Ö¸Ö¼×•×•Ö¼': 'ğŸŒŠ',  // ëª¨ì´ë¼

  // ========== ì‹ë¬¼ ==========
  '×“Ö¶Ö¼×©Ö¶××': 'ğŸŒ±',  // í’€
  '×¢Öµ×©Ö¶×‚×‘': 'ğŸŒ¿',  // ì´ˆëª©
  '×¢Öµ×¥': 'ğŸŒ³',  // ë‚˜ë¬´
  '×¤Ö°Ö¼×¨Ö´×™': 'ğŸ',  // ì—´ë§¤
  '×–Ö¶×¨Ö·×¢': 'ğŸŒ¾',  // ì”¨ì•—
  '×–Ö·×¨Ö°×¢×•Ö¹': 'ğŸŒ±',  // ê·¸ê²ƒì˜ ì”¨
  '×Ö·×–Ö°×¨Ö´×™×¢Ö·': 'ğŸŒ¾',  // ì”¨ë¥¼ ë§ºëŠ”
  '×–Ö¹×¨Öµ×¢Ö·': 'ğŸŒ±',  // ì”¨ë¥¼ ë¿Œë¦¬ëŠ”
  '×œÖ°×Ö´×™× ×•Ö¹': 'ğŸ§¬',  // ê·¸ ì¢…ë¥˜ëŒ€ë¡œ
  '×œÖ°×Ö´×™× Öµ×”×•Ö¼': 'ğŸ§¬',  // ê·¸ê²ƒì˜ ì¢…ë¥˜ëŒ€ë¡œ

  // ========== ë™ë¬¼ ==========
  '×ªÖ·Ö¼× Ö´Ö¼×™×Ÿ': 'ğŸ‹',  // í° ë¬¼ê³ ê¸°
  '×”Ö·×ªÖ·Ö¼× Ö´Ö¼×™× Ö´×': 'ğŸ³',  // í° ë°”ë‹¤ ì§ìŠ¹ë“¤
  '× Ö¶×¤Ö¶×©×': 'ğŸŸ',  // ìƒëª…/í˜¼
  '×—Ö·×™Ö¸Ö¼×”': 'ğŸ¦',  // ì§ìŠ¹/ì‚´ì•„ìˆëŠ”
  '×•Ö°×—Ö·×™Ö°×ª×•Ö¹': 'ğŸ¦’',  // ê·¸ë¦¬ê³  ì§ìŠ¹
  '×—Ö·×™Ö·Ö¼×ª': 'ğŸ…',  // ì§ìŠ¹
  '×”Ö·×—Ö·×™Ö¸Ö¼×”': 'ğŸ¦“',  // ì‚´ì•„ìˆëŠ”
  '×¢×•Ö¹×£': 'ğŸ¦…',  // ìƒˆ
  '×•Ö°×¢×•Ö¹×£': 'ğŸ¦†',  // ê·¸ë¦¬ê³  ìƒˆ
  '×”Ö¸×¢×•Ö¹×£': 'ğŸ¦',  // ê·¸ ìƒˆ
  '×•Ö°×”Ö¸×¢×•Ö¹×£': 'ğŸ•Šï¸',  // ê·¸ë¦¬ê³  ìƒˆ
  '×•Ö¼×‘Ö°×¢×•Ö¹×£': 'ğŸ¦œ',  // ê·¸ë¦¬ê³  ìƒˆì—
  '×“Ö¸Ö¼×’': 'ğŸŸ',  // ë¬¼ê³ ê¸°
  '×‘Ö´×“Ö°×’Ö·×ª': 'ğŸ ',  // ë¬¼ê³ ê¸°ì—
  '×‘Ö°Ö¼×”Öµ×Ö¸×”': 'ğŸ„',  // ê°€ì¶•
  '×¨Ö¶×Ö¶×©×‚': 'ğŸ¦',  // ê¸°ëŠ” ê²ƒ
  '×”Ö¸×¨Ö¹×Ö¶×©Ö¶×‚×ª': 'ğŸ›',  // ì›€ì§ì´ëŠ”

  // ========== ì¸ê°„ ==========
  '×Ö¸×“Ö¸×': 'ğŸ‘¤',  // ì‚¬ëŒ
  '×”Ö¸×Ö¸×“Ö¸×': 'ğŸ§‘',  // ê·¸ ì‚¬ëŒ
  '×–Ö¸×›Ö¸×¨': 'ğŸ‘¨',  // ë‚¨ì
  '× Ö°×§Öµ×‘Ö¸×”': 'ğŸ‘©',  // ì—¬ì
  '×¦Ö¶×œÖ¶×': 'ğŸ­',  // í˜•ìƒ
  '×“Ö°Ö¼××•Ö¼×ª': 'ğŸª',  // ëª¨ì–‘

  // ========== ë™ì‚¬ - í–‰ìœ„ ==========
  '×¢Ö¸×©Ö¸×‚×”': 'ğŸ”¨',  // ë§Œë“¤ë‹¤
  '×•Ö·×™Ö·Ö¼×¢Ö·×©×‚': 'âš’ï¸',  // ê·¸ë¦¬ê³  ë§Œë“œì…¨ë‹¤
  '×¢Ö¹×©Ö¶×‚×”': 'ğŸ› ï¸',  // ë§Œë“œëŠ”
  '× Ö¸×ªÖ·×Ÿ': 'ğŸ',  // ì£¼ë‹¤
  '×§Ö¸×¨Ö¸×': 'ğŸ“¢',  // ë¶€ë¥´ë‹¤
  '×™Ö¸×¦Ö¸×': 'ğŸšª',  // ë‚˜ì˜¤ë‹¤
  '×©Ö¸××¨Ö·×¥': 'ğŸ£',  // ë²ˆì„±í•˜ë‹¤
  '×™Ö´×©Ö°××¨Ö°×¦×•Ö¼': 'ğŸ¦',  // ë–¼ë¥¼ ì§€ì–´ ë²ˆì„±í•˜ê²Œ í•˜ë¼
  '×©Ö¸××¨Ö°×¦×•Ö¼': 'ğŸ¦—',  // ë–¼ì§€ì–´ ë²ˆì„±í–ˆë‹¤
  '×¨Ö¸×‘Ö¸×”': 'ğŸ“ˆ',  // ë§ì•„ì§€ë‹¤
  '×•Ö¼×¨Ö°×‘×•Ö¼': 'ğŸ“Š',  // ê·¸ë¦¬ê³  ë²ˆì„±í•˜ë¼
  '×™Ö´×¨Ö¶×‘': 'ğŸ“ˆ',  // ë²ˆì„±í•˜ê²Œ í•˜ë¼
  '×¤Ö°Ö¼×¨×•Ö¼': 'ğŸŒ¸',  // ìƒìœ¡í•˜ë¼
  '×Ö¸×œÖµ×': 'ğŸŒŠ',  // ê°€ë“í•˜ë‹¤
  '×•Ö¼×Ö´×œÖ°××•Ö¼': 'ğŸŒŠ',  // ê·¸ë¦¬ê³  ì±„ìš°ë¼
  '×¨Ö¸×“Ö¸×”': 'ğŸ‘‘',  // ë‹¤ìŠ¤ë¦¬ë‹¤
  '×›Ö¸Ö¼×‘Ö·×©×': 'âš”ï¸',  // ì •ë³µí•˜ë‹¤
  '×œÖ°×”Ö¸×Ö´×™×¨': 'ğŸ’¡',  // ë¹„ì¶”ê¸° ìœ„í•˜ì—¬

  // ========== ì ‘ì†ì‚¬/ì—°ê²°ì–´ ==========
  '×•Ö°': 'ğŸ”—',  // ê·¸ë¦¬ê³ 
  '×•Ö°×Öµ×ª': 'â•',  // ê·¸ë¦¬ê³  (ëª©ì ê²©)
  '×•Ö·×™Ö°×”Ö´×™': 'âœ“',  // ê·¸ë¦¬ê³  ë˜ì—ˆë‹¤
  '×™Ö°×”Ö´×™': 'ğŸ’«',  // ~ì´ ë˜ë¼
  '×•Ö´×™×”Ö´×™': 'âš¡',  // ê·¸ë¦¬ê³  ê·¸ê²ƒì´ ë˜ë¼
  '×›Öµ×Ÿ': 'âœ…',  // ê·¸ë ‡ê²Œ

  // ========== ë¬¸ë²• ìš”ì†Œ ==========
  '×Öµ×ª': 'ğŸ¯',  // ëª©ì ê²© í‘œì§€
  '×Ö¶×ª': 'ğŸ“',  // ëª©ì ê²© í‘œì§€
  '×Ö¹×ªÖ¸×': 'ğŸ‘¥',  // ê·¸ê²ƒë“¤ì„/ê·¸ë“¤ì„
  '×Ö¹×ª×•Ö¹': 'ğŸ‘†',  // ê·¸ë¥¼
  '×¢Ö·×œ': 'ğŸ”',  // ~ìœ„ì—
  '×Öµ×¢Ö·×œ': 'â¬†ï¸',  // ìœ„ì—ì„œ
  '×ªÖ·Ö¼×—Ö·×ª': 'ğŸ”½',  // ~ì•„ë˜
  '×Ö´×ªÖ·Ö¼×—Ö·×ª': 'â¬‡ï¸',  // ì•„ë˜ì—ì„œ
  '×‘ÖµÖ¼×™×Ÿ': 'â†”ï¸',  // ~ì‚¬ì´
  '×•Ö¼×‘Öµ×™×Ÿ': 'âŸ·',  // ê·¸ë¦¬ê³  ì‚¬ì´ì—
  '×Ö¶×œ': 'â¡ï¸',  // ~ìœ¼ë¡œ, ~ì—ê²Œ
  '×œÖ°': 'ğŸ‘‰',  // ~ì—ê²Œ
  '×Ö´×Ÿ': 'â¬…ï¸',  // ~ë¡œë¶€í„°
  '×‘Ö¼': 'ğŸ“Œ',  // ~ì—
  '×‘Ö°Ö¼×ª×•Ö¹×šÖ°': 'ğŸ¯',  // ê°€ìš´ë°ì—
  '×‘×•Ö¹': 'ğŸ“¦',  // ê·¸ ì•ˆì—
  '×œÖ¸×”Ö¶×': 'ğŸ‘«',  // ê·¸ë“¤ì—ê²Œ
  '×œÖ¸×›Ö¶×': 'ğŸ«µ',  // ë„ˆí¬ì—ê²Œ
  '×Ö²×©Ö¶××¨': 'ğŸ”',  // ~í•˜ëŠ”
  '×Ö¸×§×•Ö¹×': 'ğŸ“',  // ì¥ì†Œ

  // ========== ì„œìˆ˜ ==========
  '×©Öµ×× Ö´×™': '2ï¸âƒ£',  // ë‘˜ì§¸
  '×©Ö°××œÖ´×™×©Ö´××™': '3ï¸âƒ£',  // ì…‹ì§¸
  '×¨Ö°×‘Ö´×™×¢Ö´×™': '4ï¸âƒ£',  // ë„·ì§¸
  '×—Ö²×Ö´×™×©Ö´××™': '5ï¸âƒ£',  // ë‹¤ì„¯ì§¸
  '×©Ö´××©Ö´Ö¼××™': '6ï¸âƒ£',  // ì—¬ì„¯ì§¸

  // ========== í˜•ìš©ì‚¬ ==========
  '×”Ö·×’Ö¸Ö¼×“Ö¹×œ': 'ğŸ”¶',  // í° ê²ƒ
  '×”Ö·×’Ö°Ö¼×“Ö¹×œÖ´×™×': 'ğŸ”·',  // í° ê²ƒë“¤
  '×”Ö·×§Ö¸Ö¼×˜Ö¹×Ÿ': 'ğŸ”¸',  // ì‘ì€ ê²ƒ
};

function applyImprovedEmojis() {
  const versesPath = path.join(__dirname, '../src/data/verses.ts');
  let content = fs.readFileSync(versesPath, 'utf-8');

  // Genesis 1 êµ¬ê°„ë§Œ ìˆ˜ì •
  const gen1Start = content.indexOf("id: 'gen1-1'");
  const gen1End = content.indexOf("id: 'gen2-1'");

  if (gen1Start === -1) {
    console.error('ì°½ì„¸ê¸° 1ì¥ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.');
    return;
  }

  const beforeGen1 = content.substring(0, gen1Start);
  const gen1Content = content.substring(gen1Start, gen1End > 0 ? gen1End : content.length);
  const afterGen1 = gen1End > 0 ? content.substring(gen1End) : '';

  // ê° ë‹¨ì–´ì˜ emoji êµì²´
  let updatedGen1 = gen1Content;
  let replacementCount = 0;

  // íˆë¸Œë¦¬ì–´ë¡œ ë§¤ì¹­í•˜ì—¬ emoji êµì²´
  for (const [hebrew, emoji] of Object.entries(improvedMapping)) {
    const regex = new RegExp(
      `(hebrew:\\s*'${hebrew.replace(/[.*+?^${}()|[\]\\]/g, '\\$&')}',.*?emoji:\\s*)'[^']*'`,
      'gs'
    );

    const matches = updatedGen1.match(regex);
    if (matches) {
      updatedGen1 = updatedGen1.replace(regex, `$1'${emoji}'`);
      replacementCount += matches.length;
    }
  }

  // íŒŒì¼ ë‹¤ì‹œ ì“°ê¸°
  const finalContent = beforeGen1 + updatedGen1 + afterGen1;
  fs.writeFileSync(versesPath, finalContent, 'utf-8');

  console.log('âœ… ê°œì„ ëœ ì´ëª¨ì§€ ë§¤í•‘ ì ìš© ì™„ë£Œ!');
  console.log(`ğŸ“Š ì´ ${replacementCount}ê°œ ì´ëª¨ì§€ êµì²´ë¨`);
  console.log(`ğŸ¨ ${Object.keys(improvedMapping).length}ê°œ íˆë¸Œë¦¬ì–´ ë‹¨ì–´ì— ê³ ìœ  ì´ëª¨ì§€ ë§¤í•‘`);
}

applyImprovedEmojis();
